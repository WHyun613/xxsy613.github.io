<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>水云的博客</title>
  
  <subtitle>计算机在读小白</subtitle>
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2022-10-05T02:48:59.381Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>潇湘水云</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>日记</title>
    <link href="http://example.com/2022/09/26/%E6%97%A5%E8%AE%B0/"/>
    <id>http://example.com/2022/09/26/%E6%97%A5%E8%AE%B0/</id>
    <published>2022-09-26T06:55:56.000Z</published>
    <updated>2022-10-05T02:48:59.381Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="45ca6cea57388d1a8b83404effa837a21113aed225528f743b2217c34352cf57">31ecebffeaf21b79f3747deda98a2a4db83f7bf2e5c445f459e834fee57385f44bcbd8202ebe4d7a8bc11640254bc30735746cbce0b941c68b42a6d6b761ef4a2a38027661f00a4a9f1f3404bbcc82b7ad0d49b4620261ea719c7c198fb7fb97b5bff27c12d9b3bebe8d1ccb73bf04cee59cd2dfc13324c88777015c4cf63a6dfcd95733b7e360f2ef88d5522b01789f3ec4a29bc2b96174be9c84c57e3455f387a9db83959c31e3a623c2eea1929bc7d4bd48317f7f0447439330720d2a455f3dc75093a7434d5fa1d2945ae5bd8c8fd8eefff577fbee7e73c978fa7021fe044ec91bdce05f7dd9a93922e87fdc8dd510a45efd6f0c21a68a5dfd2ac996accaf38fb471ef26599ea5ddf1a700ca5439291441832a9627e870f2ecbb23acf1ed3112035f63553fa114c089a7f5e7424ecc02e9efd415a81f6eb5e06079707f9ac9be044c0667cf9b23e074b1a3696c82924f67a130c8c188f187dee70500174b59b0ed9018e044256372d3383528bf85a364a546b63b62c09edc116d6dd1a9bc2c64c99dedaddfccae5451fd89d6d99474914c4acc08282d9515d9d462337534d1d32d65a2dd2d790930e852830bbd0782012604f958495b54378d2343536f86e06368b7eca3b41ae9479a15bcb15d2791f4250890d146ad99995885f0533405ff770469f79b1b8913e62b1bdb60f022ef4a3490e92452fed13ccdd4e55d5fa51342b13d7b145296ce5e0264ba6f270501fc452485106d41e383fc3eb4d8f0352483f6759314a58df37ed59507d59ccffdde78465ded6a2b3adf30edc31d792b55c55897f1fe9c8577cc82977d90c26c3e9ccbf77b5066945eb5afcbb64e3e7a6722288d53f3df5c6baab19a9031b21dd54291109302e4a752d9632267f35a9eed70af11a5ba35405212629de9c9a7e730079792e12d3746555eb632fa17fccd987a31eb0bfbde645c76664a047a5b2e8eb04ec36851283faad59a5e65bcc8315fb56afd7d3be9fd68559784923040131bcbda17f64550f8b63b6e082fd4f6bb9d706c1c7b0627b4a25df09011c185f580d6180260915fa4c387b96f13159f188470c134f39db7c8ffb027ab4cf4e82aea90e36f0dfe7864f689c811c269e4cf0515672a685b829b9f2aba150cbfced2b138205d15dd032c27a842f8e0bfbe31a1563237e9cfd39b9f9bcb579d6bf75aad9573214fa439905fb65c0190c6f31f803a4fc1cac3d7f2479bfec5140e13a340c44389814e06bc3efb866973795b9190aaf41e58caef748402e11c44207f0078d900abb2d10dd5e16fd2b71ffeedc09f849575efaddeae28ea75fd6d5f5852c516cb9ada844f06f5ca118b599a81e52996bce58d7082ad94cce45cd98055d3ecb97a53998d4ef4ca2115a0d8fa369b9b5d0f3c10bdf297c999f8612922e17a86f69cd99221f975b6ddd8281ff475cce9870138354ffbfe489999573e3caf1fdd325945f107863870b87a151b8493f291a6402584a6f079053a01350e115d57947dc1b49e218ed376d0be0755ea79d79488034c36016165482510a94a6bc9a05b10110042b6a66a64f0eeeb0f3fb1e3f5830331bc796d766e51a6a65ddf750241300fbc363bb9841bf869edc368a711a07817ae4fda6eefcc25e78df5df078db67b3b1c376486341f54ca6732f6ee25ede166d9bcabfed78e7e22c43801e0d89c2536a8414db02e8727ef067acb0bf8be66afc0d25292208a14f028f81665ea359782268da8d930851d08e61d8da9d115de0c5c4aec0407afbcd63229832c6d470dd85a0f8e5a5f1e6f29c762bf789de89ff23fab96a66231980dc5115b7e4c3732acb37fa9733b75b12a71363a917863d0450f279eb49fabbcb21247fd6f66bbac090fbe457e5978053de7685f65e9d41e7d286884543e43211b5bf63fbbda689f65be2be6d698b921abc3236923ddc14f0eb87e18bfbd5c4113ee510ab803aa5371c2542e0f9a222f60b93b0ee275d99e919dfdbc8b41aeb8365a0bfd4b8db343c8e332777ef717ef3fe587390a1e45733d24d34189b6a9ca8e1fff25cd5b3e4ea5071bdece82d62bc41d97aecc96697bed11fa2a722662615ab9fe82f527d6e783637ec3730b5191beced1b3c2b88894c9d3be19139250b7450112ceb3a8d2fe88e8e900bae5599e9e305ceb64b82ac75f8a1670524113f5a62b7e23cf7fbd5d69de7c378aa0d135d0d51f4d4cd9e4c0a838fab8e77ae49049956febab9770084486147309c6b963dae23a3cdc248c3f113096969dbc859d6d97567d9f7ce594594472153348fed2e3462c58cf19d85444b86cb75068de64eb93598173cef523edecf891fcef6c2add8d7169b7b6ce9a08275fca118891a5146fa48b8167d29ee05ee3111f7b635cb20e7823ad54d3ad84e99ab96066c723230e5aa4525eb24318c0b4dc75a64a18d3956c23dba76f5d560b9fd35c6956b49d455490e7ee345214338e8874bb69f907868bc1827126af01c49f9cfe3f2a382e3bea50bafb4f719f73f0d545e9723de63e4af732c033129c66f360df0ed931a9d3bf2e05e2bcb273feb4866f397b550fc2e6d15a2d0342a1327c507f752e0000459fe3a6d402ecfb79c646a12c5acfbedb08456600e0d8b6100dcebb5e5e1d915b6fc28af4fd60240eb7255b3307137f363d5989b64da249a8505ba20c215d3da14174861192065e518bc2c1db2dd191e5b2e9b77a61d209fd174618681aec879920c9ec2b10887fb9204e4a7cf172b0b97a061ee6bf664b3c8b7db1469222a9c4723f2e0528cb78d652d772a0c5e2ddc58f6b415b1b5a3099fb9e9cfe4c7822b8369d9275cf2a6531e12d6b0e2975ef14b878334cdd05480ad7fc1e96987401c1f91ebb0a7a73edef4d0aef69fdba8eb193e0ef28b22f2721cb30377be0a9130dc39c325cfa85e353b7efe8e22aa5a1c21be27dab15786351797e7546d6959594957b64c6c57811051e80e98bfbb5c88459e87dae242040a882ec87f1a03cda49ad17817ce281fef974096a289399dcfc29ea0452754b7e7904b8bafb285aa6fb21879aad7d8e8212ee953ca6c72982ddc3f2f5a795952b419dd426c15440e602041745c250d5c2595a5886f47a25806adf8997ee84e92b897b4a79cc807b4715810eea7ad009910213d01b45a86cbf45dc6074af98757fe372c5cfac43ef758b0ea6988905531ccb21fd3c25719ab96e8d49edfb5b70c6510f56adf6482f3056f46249921b696e7ad44c4f21c9ad08404b605cca22507162fb31376c4b753f2097e2295803c0161df1287171ca91c84fdd6a060be4a9a921ba08cc78d490c3c51c8f614122ba68a8aaae698f05249489b09d182134155ada42d079ce8f03a67716301f2c00f79779ca775ef609b6b24e84009177e46b0e11286f102a97957d9854d70e562650e3e3aec75607c8d6a656b5c141b3ee5e020c5b48040db7444a035fd451c71eb4fb45ee280b65c8d3a56755541a2501c932a1da9370a22fb12a4ee34a7d40fdd411a8d18af91b0df4e12ed340c882993eee32b71ad743e7ff09239c1bfda302270be4d32af0651cf919ccb699197127046ff3569582b7ffcce8b45848d6a319747c1a34ef7579d325545cbc5e0169f5debe2a06276b7557d1d2ccf15bc42361a2eb502c532ef743fa8144304548cf613a58041ecb76c1d864614d549d159739106ac4bcfab76dd0b8bddb4a868508e793122dd15796cab862930be97983040172576e7cfca3d1cf336e605fccea15c7fbbfc5581c4891cec3a60e6cfc7a03be4fc2190111135da092b7a151a23d2bf8b2d7a193b00b10184a45500c5337e26a720503f4a2a0746e605b919547cca6efe5e99142f18f924e28ccf1c0611623da81f31b9e36f9ba1d2216e78cb351d0a3c726fce60f6f1206d2a3cae3e09880391c4848040715435f97611310d9f1049ce8974606418efeb1a722b11e6607a67f59cc4d3a9da4e6421869c9b57fcf66cebf37c8d6039382de8d531ea54853e80b633ce7d5279988d00468b931e009e83f8b498727d7fd1e2b5f217bd9831085fc3f82216569bc001ac3898f4c4a611be131bc62e92c467fcadb745eee633f07f4b39cb087d77662822585d2d472e2b386c83812dd63b512c3e4ad282067e880515045e9c66a06c4af894b539adfd33dd09345673ddf3e016711adbc3aa9416ba6cf666905389496a8e4c9590d97332811bee5eef665cf84fc6cfc6758029fb3ac861fc659193d82e8ee5f3d968df3deb9c44085eb986f5d21ba7ad07bd96a08c76a32748fc45bca6b4e206b0689f7debadf1b19420abff070f1a77346b1d620d99f55e2ae388dda7105d936f9bd5609a3b9e83971b6f3dd3c4c013009e8f0fc957d23cf76496d106d1c239cacbc48b38e8df6ad5260fa9c648c04ae13851bfd2d63a2833d265807586d27356fda754cc39760d72749add6cf830648ec65e1d3591ca574180ab02748f49bc54d918308cbd32b3019f7e2756ebfe420655860101151ed4a268a6fbca219458263d878bbfdcf50662a6bd916a290052d37c244c7a4ab677218c83aba24c8dcdb81ee30ab9368db6424952d0632d9cf899ba59759ea242bc0150a02c9613a78a70293ede778d214bae370b1857e424d8f83572f340fc47b50eeb5f26508ad53018fb90660a20ee2d894c34686c0583412aadf9747a42d170078d36e17dcac1bcfbe9c652b17fae8ffc04a81549626b0f63171c18f148fbcb4ceee196d348257448d747a50a12bf9bb6a8e03e4beab50cc1aa74ffb5a1c4e21ad45c70a465331c3dfef3cc2421c531df530e318082133cdf9ab22f614fb90af962df1f7471a1793a8ce3a1ad00d0f015ae14f469d6512aef6e06b6914143f7078e63006d9773c83a55050d83a99763d66e82910bda81024389bba8eaf854dea77eede3e13b393bd575ca9840fcd73b4c028d054a950a0ac4a8cf6eca3b48b8cba318c7d5f6e2a0cb7e4aa27aae879f8e9e6d4cee91c824d5fb4e2c440172e4927e16314af9359fb939628ad0d6f3c6bc6425217b6498945fb6efb7df81aef667551b20ffc935de2e65d11138f27f9c6991bfa42c15c8e5707f14298ff1cca7c1bc24ca804b877c7d59ef030a62c10cedca525580094461611593eadb76ddcecaaafda4b80eb610f56e7a6f6afc7ed947bb01e0e43444beb20b38b8babfad570ed80f77556609bd70551634b950999aabbd2145c8ad3d476ff9514883ef669a251357b9993903fa0fc335cbe20c7c62e753b5174ee96d6749248847e34e5083b919aff2bd0dacc3200b6353712cbb861e352265ebb2acc7f7d4c746f3c05ded0633e03da518bbfd8477e09781235071b4eea2d6dab4a683b664676d544a2bb9762610b1d1f547ef7460dcccfc7068e890657448567b79fdb264bf64de7cce7adfba625ab3fab01601368fc4cbad31398bf66a25a1786e3dca0d77fec4619bf1d17566a6bc4bfb536eb05b8def0144f06402a95c1d46c9e681c8a06553d6e4d10fc68ccd2062e40bed2fe0f4927a150c5a54a09c16eaebaca642f6dcc115c82d1bc0fc3131c838368dc7011bc42a4501fb86b2db0ba6dd6eab482a3b54b26d541de62abef04dcbf17322f5855b659e818f91859596a11cf28954bf03949d7489c97529c5d91b28e55a43d7ed9b57e0b7d916ba1531d384cf341e4a950ec81fbff0bd6cc6f3eff3274636e13495794fc525f7d565bc11784723494e9d5159aa6d1a9d565511d9bfb7b8f72ddf6e970680a3eb1fa52009095f3e22d218927e1078346ccd6ca5d7d17ac16d072b801b18888bc1aab4b72028cdc0ff422fb41e29729c409dc466be11d4b17b158e456dd34c22ffe7962e73c4aa93ec3263a21d45fc54d9fe989b299d71ed3ea1be76ecd2802bc27130c5e425b2f8d9377be2d9cc218f84f1010a99a36e629c77a729a43d06766def61f2d7ef1433d3dbcd177f5b8bc15880a24f405c8423e1c731cf97f9c70732fd53f2ea22b01aafedfb6ec41a8e055584df5b06de52e69a4078b8f6450211d3e947879e8dddcd7f4f54f7ad200b6015368495faec9fa56f4fd2252970f8b6b891918d63f3b87d04385b85348cf93f28ffe5f930b46c5eb9f8a69a67062accbe8d2e8d93e5257ac2842969990726acd90ce1b9b11d91cf79b31944a2db2b65aefd3e9baf9b004a7b37ed1906928c77948089b751c3b761adb38770094a62781c1d85968b1ad7c984940725447186e7620af0c8a73a888e430dff9898cdf23d2ab4e9f3a6afd2cfccd2b8fc91c7311909a0c6abf94c1e4fede257dfb63c913a4ff0f63d30a4e9f5a5d72a943acb233e9a801564892cf4cb1e9e3bb0cfb2f1dee1a568b7d4df49e8ba55a5accbee5a068d81a5196d08f471b49ffbd745d7ab5dc4981607fb5724d95f3f4631d02559d6f3b1bdf26872a11a5fedcd9b12a2cd669b755031df2309da7430b0e9db999f74c1f123437d6a9e87fab0bc0b633b1ca071ddf854b14e18d700d4b5db3de7cc68275156b158f20e87c59bc3464d0c58ba3333aae346cf539b3c7798701f6963569b615e0f2932269810c40616f7317d21a62a91ce30d3dd9d49224f6fbd98933dfc2b25e98562e013c7fce414d0f8ae61495ebdf1ef8eed55157870d3246d9bedafb7166ccce811e7b00004d8c7165f14193276dc4c0019d70c37dc11e62a9cbf662c47917cbf9ebe7051d60d872e624143826cc6d1100b07de8f30218bc37673cf4942d3b0df629f0a0d432b25538fcb7d98138d3c5570e0ac27447c23cc29944bc9ea31b72c79fd2304246c1727aeedb5c7a78754f7cc79818eeaba9b1de563b681984503aa602fb647af89bd06146a1a8766cb9d971414f64b2f5467f2c660640d887e91df6a519959af7e1f933a44aa950d6715fc05607af9329230bbeb3ce09ba77b1135c84cebaf6b0a17f7a19d3ee9a4cbd2b30e06a4c7373ebc04637c8f02825bfb3d609573e62fe8242e13d2aafff34441f82cdc52dcb8bfe5d57dad959410de2a8e4673036d907db09330d5fc8f08987f96d1f9b29c08d69d30d9ab022028d272c9815e907bed2b619ee8c29e01e211813ac95f14d5947097b3677bf3840afcb031170e00593133126df633580e46f233574cc23c0ce6fa22bd9fb7e27621370aa260e34b41eed7f7f63aa9b306fb4e7d801253ab7f036e0a7e655c477c472e48dc5ef8a978c218ae8b5c459f0d7990f0470809b589c73a474c34ef1ecd68f6cc9a730d386c4e8506bba8972348aed4804b9b0f5d63a4be2e8bfae7e9c3dd3abd17f3f69d73269c00effc36665d59a5184db8130b0b9731672dbcb8ffa03e0f29affa1cc56a9eed15f9ccd03340025fbd805af3d404633a62c568ae25627ec3a7ff64158a25d68d7fa97ecb0c6aae5fd3aace34723ca355de2aed61cb1c231bcdb832610cfe1babae3a54a703569ce283c81b1b73efb5526b65b3ed5bf9a49a7575f4e7eb064194bc327f2be67da235d4b1619d5e91037b0ed3afee3b1ecaa0bca971dbff6f7637e2d032907ce3d5e571bd42feb6618adab79e08c85f5cc30948240cfcbbe05a1462be0431ccdd09035c778aed05b22583c82ee0ef283982efb3c01999d14a57c3d1932c2e00ca0ea2c2869e5de21a78cc936fae62781b56fea48686a60471d555a62ab0cd5254ed25a646205bbb179152526dd79a50717159875fa7048410a96df47a2fa0eb9ace1dfcd8d7d8e472f257836eda6639fd68bda9add872fae7e89d3459e4a1992ddc5e9eedf13e8fbb8ebd938e79f79279c65473b564389530fa06c615dfa2eb2ba2b1a363b222ca7efb067cb303dd221f254df0f8aaefc5731f45e0e1007b81230bb4a987b45de21fc8daffa9f05e3b4ab13b82fe4700e9d683943c2e84bd02dd2a4b413708b8b9f034fc6656eb248c46ea88499b170a129c97e4a4e40ebe89299ab67c00d56f5f10f85553d5342b2ac130f4f73567f078ac7935174071c87aa389bee3a5da178c1fd69f63ee95030edd7f116dd96f814a234695f838046f2d267897b3b8e8e207f9f649d7105d8591a11e08252a2dc808a5a0314a150c356fd166beddaceb5beb53176781d3eafc0cd444f390b0f0a993f1d5ed237c11e2f537ec4538becbc4fc12c34747eb27f8eca9d7cc9adee3820c36817da3eb46403273cc59d34662b5e15e46282a49480b745a0b9116e715625572fb698227dc853ac13d02388d968bfaaa74c3fd844b11b6b9011531a51e4aa8bf14ab2828eff08a59e37dc47801cd56ccebbff977e92383cdff77a1d09cdeb45ec4e2083b165af9760ea1d403de6d255ccb4c6a6a331a32289026715b40974d7a6142144f5380b1324f3e38a09e31a3f59f78bc37358f0608af7653ba61896a528f1ebcd70cb7efcc827c16b8af154520ee05fa20f46f30c2b70a37cd31fa5dee8a2b3d94151055d9dc05a5e01f0ae4d6bb8340cbebbd3beff50f93976523c176989d94c446b3497515f4480f3cc5ccd356676dd3481cc8dd9e7b480c1b8c2b73ee2f9723893286c7be0c3ec03d6b50002450b15777c7749597ea25144400c8921a62cc1835de502be6ab38f99b964239d6952d850a56790df96612c8605022a5e308d482d11209b2701bab2d8ce5cb12f2dd19c9bd1b9c7caac6ec702494c73271f33396b90e0f9e21f8618bfa11401fd77c606f220dbbfea85bfdfe25a6f3d6014ab86d452224a07455b8c1dc6a7d2927c29aa497b7c99c470d72b79456ee0a890a9e24f2da6770ffb23a470b3de6162caa5cd3ce8f8e45ff88dc00f25a519ea373e816c3deee4e00a037e6fe6ca497d9bbd025b97d44523c33406e5873d6bd312150c12f9bb9a45de66f25845dd1a29b39aad266f4052e2e99b7b2875ea1cf36cf3b20762cdf7cf3b100bb34d1b4afc86cf6aecb0254a0d52c49ffd0b7cd91007b4bec9fdda15e938db05d24119f7b07f1a383894e721b7d8481a89e9655cf0d5b9c1a7993bd169529e844a53191c3b907d089ebc5a1699d7d9a8b57ee36eab35f4bde78b8c0cb0ac9013624b5d1b934fc7ad228a451206ab5ff29e7de95dea69de7bc510e7ccdf40fff802dc20b0b73d97bbf4ed6203f00bcab6651ede404ee2200006d171f51edd1e817fab90735ae2d241cecf77c05e843031c3e5e7c35e77c978d59687b24c1c929e8bbb33b2096820dc6a9b2247c6e2c4fd0756a532452d106db6803190623d4f7e0d08d8d1d1a57b586827dd96db2d1b0d2fc174ef4ffa87460ceaadc73c6ddbaec838cd03ec4163523064abbb9c5fae2bcb0567e74e111e8fb9175171ca0927e22b90e4bb416e0d2f315734d5e72bc03655a530e4195f21ab8243fc89524285da2fffcb523d17b2e89558e3451788320f31f660e41638686e68c24ef2ae16c04edb8b9a207d72e45799bc800294cc4cc38c93ca80b6fe20add8f9a560a0174130d9596bf70afc9f853d64fa4158a75c31b6c2da34d0cb101971d1a53a1d4a9b7ab95381cb5604b68c24fe49479bf78f939059641539a5e664fe2a5d58ab75537c00773f4359d69ef89d920f7bd9e4ed2eeb3453e8df338d75352b1e9d2bfcf8e7c1b7dd1d744bf3e45645968d9b8a50e27a96cc7aa2d5a880054a031bfdeb18f0774131c1203e564a74cf3e65cc62bdfc06905094846811e172c1473e8036354c013a851e412a6a3f1ea8a56f0bd982bff7d15a61bacc8bdff60f9e00c27b49c6ebfd9325d2a1429ca4f56b2f626aeb42b5dedb612661b9c64d2dad67fe9c7314a3a68a56abfa0b30ed833ed02f7c53cefa3b9c54f7b698def96285a28783052ba9d413c53bba4b8b2f8d10ba2ca76aa84226b88e69bea41b65a5d5810755ee3f636703e4e1bfc7ee0155f78e12d3517180f29ecf15ec8bdc874bcaaeae014ecd8cb8f4fa53ddee9c01ac4d8d3984933c7222fcc81f40f3093941c25711e97e5bd786f77f39b740f7acaa6da8f518bbfaf07bae4808c3f039380f7a7ee517a2d914b4a99eb6e88387eebbf7ee8084b794e57919ac81bb81fab55b4179bf704a600299898869feca9e1fbabab9ae73d76573631190766d4abb8eb82df092d9344fe84ca09357d5f202af35d4e37ad4b5c6ff668cf44fbca159736aaa922d826378dd529af6de51d2afcc741fa6421f90e9a91a1030c5efd8169b23143e501897587c77bf4caddea1d11f3f7d1e677e4e3c7c5d33fbdc746a10946a8dfb78f2d138ce35e4d88db99b6083e02115600720326e62ba5abb669b6dd99d211dbe5b28a7fb9cbe2362de972cc3b4664492dec8171cb123a8fd65801a581f2794729a37ff8a3e492231b729ef766c31ca268d84b449b7b57b9405b4e5b79858eb0dc0f6b6f9fdd09bbdf7917bb8fde61ceef70885039d616d3f0e4ff8be8f58d3fa080b016b0d4ff131423fe97fe6d104eece476f2a822156f6481e1012bcf997bbbc12af5451814c28f062c2dffaf53a8e8198e7484f50b9150ba493aa3c78521675a19b7b20c42035f670ce74f504aa597fd8dda1a76982a77907d7c86a537187c474b7f417d514d89539491094339e1751e6d1f67fe352e3695e8d27f8bb36a45fd795f2e6dc229c07dfecff4a42dd01963a0a23f2696509212af60371fbe1a346314cebbbfa8146cd25632daf2b55d53dcf660c62cfdff55416f48e2255930b22b8e5ce40b8ae80ac8900ff96546128bf5680f986bf658ab30475b4b3f73ee2cceb329c67ae8ae261a3659b13a6beac53da0bf7843f01f45f7654e83df974225b237a0b77b01fe0793014ae87c2c2587466ce2d4bd884f01be1c4f2886b6488341feed112454f31f8504cfdebe4f4ba5a0002722fea0ddcd4cd427b2eed9fac5bcd4d0ae0a6c1ada747c77048305df041c898da1363c4af1a978a14b00d005cd322ff18a2eb277f127647c0d360fa96c923884159ddc3fd46a8bdbc6f8a9f69b7f1439ed791c1231fc4aac39342539aeb02150035e3c1a860916af7446278f1e729ce9e23e5f9a773b9ee2d2af63d8579a4c03692c5086bd8c6a0859407458bf95bc5461278c2c81e8ed6324241c1a26535e2adabbb0e484e2874027aba75fd9b16756c4a1789ba0ef864c485e81449799e89c332b2342a1cd06e1b4347861901dc98c5119f9c7d3aaf1b3d47ca0ba85c085463fdf10b9cfbbf98171e49271f5747948409ea3491b7074781e9257f5ed92d4cf8be3440d27657b24378273ea5f74188341fca1d1d2303cd3aac1243b42c098df9b54a27157ef15f9bc5ea68bcd2f3b942c96caf184e0cb2ee60ace8f848bed163690aa85bf8bed01f63e764e6deee6e7b8e79bf25fa5bee6131d8d7485f8a6c7c4a349be4e0641dd586701faf2ddd35acd6711d63c09a77abee93ed47fdc756a7f9728b32ef192ed42bde867afca7bbe60ee47093aae26df8c87d0bd02ca1149d636cf9f0a51d4c1a6332b09a51c95c040a80c4c58c50e3739fc4648112dab36fbee3f50c048b7890ba88f306f517eab72c8c0cbec6e9acab003ddb38584fe576b86520529b999a0047c999a11704da5e1326251ddf80311e374d5da5c793cbfa6c1144a16bd19084260b6b9966d1ec325de3801cb4b812df0ff60d1d7f23e0dc7e5e8805b73e7a4816f8a38ecae13208405158741f801f460e03491b1b09c204367f1537d12701c93d346defeefee1bff342ecd4914390c95975547038e537c90431867f6446351251bd7f73bd0a81f9b6674b47cead421933224898ca24b8a3a09de709e0d4812ad1356c7cfc767fcc1cc5069ded69e854414304f36e6d724e21a25bbda95e6a976beb576a82c1ab821ef4523175b03b13c9fdd9d906595888601c371a5dba06a6d2e495d9a35f2b1e8237a5f2531af3e6fd7d2648ce1cb985275a2b65ceea8745b704d6c21da52fc26a1fb81a0564641a43fff00ac4d0fd2b29e39f4474ff66b7a34663da6a218d5ae3dfced0d7e3b30e2029472cee1b2a881e0c15353085d68376c9a9e6280dd05776e03b84d797f80766bf878701a098ef2aacaa3ce6608cc43be718e4140092bb57c824866e714cd610dcbab2d2eb051657395ea22adbd14172a5632b9922eea124730bf828a041606e714bdb58dcfc4543ae2cd873b70c70ad89e7b5e83cbcccf64cd40a04206dfa976b3a9c89451369cf2aa1dc9974100df13e8d87ac356b497a0c1d148bacf077dac509a1b6f77c706f14b41b72891107e5cb0e3b747b260bc01269bde7f0fbf0546443204959d4192d5c2b5fa18c15a58ddae637e2bce00f4c684d1ff68f2d0ae7c92c4a2f47cbb62c39d88f3b5fe90c94f29fc4706f2674fb25c21ffcf07473c92d8145d7648d83c00946f5456e5506192fc05116517178e9c2279b5281013f491e05d2bfd151305821fac9dd5d6022cb90730cc5468681993a16679c76ed70e594dc2e87eb168d4eb5e406ac786018265d03afd867f74405bf50704bfc5fabe5158e1bcc21d41cb97fde1af054fb199e2f9d5926f7f94e29c1877bc26961ad0f1394c233a6b2b125f5f0b9d68c73470562008f428c531ca364ac54ddc216f37fef6063f7150dc17d6f23fb98f772107445d157aeaf68f1f0b26de142e7732d7511e8738a0757c9d5905edce6d7836c62bc6954e68772137e9f7f61dcfa2352ad9c12001eedbf1f04fbd127a4a13a6c0c4640bf80ea510add6abe4d5919a0156bdda3727692667033756009b96e9b524490b50558b1c059ea19a224bea4abbe9ab4412d94b1d8976534b39c24116d0042f20a8b834b2d5d0d71da39486bf8b7c2a47169c386c51f11ec8b8e7ff2f3236933565c676ca3684904c1585aa65b16120dea1ee0b3ac1e36933745937a492fe2942e636ae98a9313ef3e327467ed6982f795f548f919733e5fb37f2731757293ce5a7a8344fba14f5734fae05a986a146ea9af1ffc5092c6c91f24b575b6adf3bfa51d0c2c2378d21922234ed254f6e5be91b0fb0c85737efd8915d3dc7441b5c66ed12a87590860452a733f5bd3388a3dce5770aa93ffa34883be45b85853b3d585d5c97a1852ab99b56bb266337cc76785ba9f24d8bae11d55a0dc4e9d179771745a147eabcf99c3bc192004db5bdf0a6cfadbe31efef46503a0181ba2e91783af169051d42b356350c414224558c0d7c6f0539462514cec3abb40ee01ce058a89ae431596ce10513accdcb8fb861a746f7bbfda34bf208ebd4643a99fe3f1aa92e3c6b1e2713bcc9d6ed5c61d6078aa722e354f74661dd314d558a535403d8ade9f6215a76c56226f2b17f4b98ba2c940e54695df2d382fe9783074fcde60466357331ba20a0da4da3b0197c3025e5315afaeb145e1714f94d3dba0a8aaa41ac0143a779fd2faf1c4213688f26647155d122c56b71e6d7c49de1d3c5128d34a771963701ffcad683f6904d520246abb3830ee32e6ccb7dcc21fc61b8228b3597693017a7a4c388ccd28675d37914f5c5f764d43fc69fa01acee82300f8b34cddaca33e08927ae5e557f697082beaf1b5c6683b99363da08851528f909348c16db3fc31277e402d989cc062f24e89943c124ad6b7a5f2bbb4912f80405df0ce4e123dda1f192c7f50bcb6e3b32f19f53963628bf3dc43f39727f2ddd307293a59a0a33531ff416a6cb9d64c4076284db1a2aaf1b5652282debc36304eeea6da8c2a56d5f6196c18d713cd059bc7e4de84c4523415f9ee167780bb8aa2e2909056d99757f15969ab9ae71a24bff1300b2ea3e77d0ad3af338c4aaa956f82e9e5fd1d59233af0b7d802b91a2ec214142410f7b504a3ab73a53a65d47aa1b630047f90f2ccd178857e5093672dbb4d71275ce39c59aad741cb728cd44ba674c7d237642af953b0a5f7999ffae98775546426c9562d0b7c1b8a01af1debff82e3f878376fb5345cb7d974d46c8dbab86263833dede27ccd209123dc1d5bf1a59cc3e153cbb64cad769c6e09188309e4d49309e1fea361ad763bccdc6385719973e1da64d942250e9f6d73667153f218eb6f2f34b72421f8efe655923626df3a647701522565aa84b6993be042abf40d10139e3a863dbef4b13bd168a991013a34ddd7ea2a706cb43e41058942947a91995155289810d77914c11d98a1aad69abdc937062875f46cda9c4d5a80cbc8e3477794a028b3d40282fa8b68e5b4bfa5e39603d6be51cdcb2adf12ec356435d4c399b9e1281e940d23ab93ab4f705429046512b6ba204df670a9a2ad98bbbd947404cf8ed85a1fbe68d6217a35362269de91a7f280630ca887b6c32ed46bfe8176d3b4e4525c44a339d4316d9b52a8761f4f796a59b61bbc896f5abd5e36b78a9e5597db5ef1d6513c67799698c25e7f7c4cda9f7ab7e986296698e4ae8ff06f6ff5ac354c47d6b209d12a52e02643ef3cc43694e8dbca8ba469ec959c14311097c531730fc55722f9ccf7aead53a18fa30fe9c4d9dde1f222118a6e3de92b7f588c8227ffdef2e697396d67512c392cfcfd9c5b7fb080bc3781870185cc1b1f1f1897b3465cc8a85c94d87995ae9e88ebba4d40eedc8f8432df4a9674cea4fb3e7c89acdf50cf878e57e3a68b7781c1ba852517de80fc88ccea3bf3ba405344cd85b317360cb752a45d207e52ccc9cca04f625353bd9dfb0175dc82ffdfc43d539d8714176b4f763004326d47e12cd7e596645c53ad19285bee70da4a4e474c2ea41a63ef0c859bdd543632731830079c8df9c3a5e361fcf797ee89ae5fe521de7765f4b7a6e1499487726778f8d480e5e72d5e575c4b8f1800547b41ebd1bfa52ed5a1daff63ae65215571e490166012f5069cebbc5f35a99623179e29968185dd31663a1e262ec51d8a5bbc1760cfe7efffd8d6022695ce18840e439ed251dba0948ef27e5ea8e3bd19e5e6437cec9a80676c5bc7c5f6bf865ec19177266df9179a2232e89d08f0665d122b3bc97ab66e84dd945b6a3e4be1c124e01d1ed7d567b9e018e6e1b48eac217d85da7a43ca0f0a5b23086e3d46f4318302d0def81ef23e01ec7a2937068dbf7caf39f9ffc17ab3639798fb98edca90613ca1b915ee124286fe90eb48fe56882f4c1c9dba546a0084785e742e766a2371d14</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">你要看是吧,那就证明一下自己的身份吧,我弟弟的生日是</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">个人羞耻内容警告,还是别看了吧</summary>
    
    
    
    
    <category term="随笔" scheme="http://example.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>Realm学习笔记</title>
    <link href="http://example.com/2022/09/20/Realm%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>http://example.com/2022/09/20/Realm%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</id>
    <published>2022-09-20T09:03:36.000Z</published>
    <updated>2022-09-20T09:04:03.180Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Realm-Swift学习笔记（一）"><a href="#Realm-Swift学习笔记（一）" class="headerlink" title="Realm-Swift学习笔记（一）"></a>Realm-Swift学习笔记（一）</h1><h2 id="基础使用"><a href="#基础使用" class="headerlink" title="基础使用"></a>基础使用</h2><h3 id="打开Realm数据库"><a href="#打开Realm数据库" class="headerlink" title="打开Realm数据库"></a>打开Realm数据库</h3><p>初始化realm对象：</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> realm <span class="operator">=</span> <span class="keyword">try!</span> <span class="type">Realm</span>()</span><br><span class="line"><span class="keyword">try!</span> realm.write &#123;</span><br><span class="line">  realm.add(<span class="type">Student</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>初始化一个默认的Realm数据库</p><h3 id="配置Realm数据库"><a href="#配置Realm数据库" class="headerlink" title="配置Realm数据库"></a>配置Realm数据库</h3><ul><li>可配置本地Realm数据库在磁盘上的路径</li><li>对于可同步的Realm数据库而言，可以配置管理用户，以及远端的路径</li><li>配置版本迁移</li><li>压缩功能，高效地利用磁盘空间</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">setDefaultRealmForUser</span>(<span class="params">username</span>: <span class="type">String</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> config <span class="operator">=</span> <span class="type">Realm</span>.<span class="type">Configuration</span>()</span><br><span class="line">  config.fileURL <span class="operator">=</span> config.fileURL<span class="operator">!</span>.deletingLastPathComponent().appendingPathComponent(<span class="string">&quot;<span class="subst">\(username)</span>.realm&quot;</span>)</span><br><span class="line">  <span class="type">Realm</span>.<span class="type">Configuration</span>.defaultConfiguration <span class="operator">=</span> config</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="操作realm对象"><a href="#操作realm对象" class="headerlink" title="操作realm对象"></a>操作realm对象</h2><h3 id="自动更新对象"><a href="#自动更新对象" class="headerlink" title="自动更新对象"></a>自动更新对象</h3><p>Object实例是底层数据的动态体现，<u>会自动进行更新</u>，修改某个对象的属性，会立即影响到所有指向该对象的其他实例。</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myStudent <span class="operator">=</span> <span class="type">Student</span>()</span><br><span class="line">myStudent.name <span class="operator">=</span> <span class="string">&quot;yun&quot;</span></span><br><span class="line">myStudent.age <span class="operator">=</span> <span class="number">20</span></span><br><span class="line"><span class="keyword">try!</span> realm.write &#123;</span><br><span class="line">  realm.add(myStudent)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> myself <span class="operator">=</span> realm.objects(<span class="type">Student</span>.<span class="keyword">self</span>).filter(<span class="string">&quot;age == 20&quot;</span>).first</span><br><span class="line"><span class="keyword">try!</span> realm.write &#123;</span><br><span class="line">  myself<span class="operator">!</span>.age <span class="operator">=</span> <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;age of mine: <span class="subst">\(myStudent.age)</span>&quot;</span>)  <span class="comment">// age of mine: 18</span></span><br></pre></td></tr></table></figure><h3 id="对象存储"><a href="#对象存储" class="headerlink" title="对象存储"></a>对象存储</h3><p><u>对象的所有更改操作（增删改查），都必须在写入事务中执行（write闭包）</u>。</p><p>Realm对象的使用方法与其他正常swift对象无异。未添加到Realm数据库之前的Realm对象，称其为未管理对象。写入事务会产生性能消耗，应当尽可能减少写入事务的次数。</p><p><u>写入操作是同步以及阻塞进行的</u>，不会异步执行。写入事务会在beginWrite()执行时自动刷新，因此重复写入并不会产生竞争条件。</p><h3 id="更新对象"><a href="#更新对象" class="headerlink" title="更新对象"></a>更新对象</h3><h4 id="直接更新"><a href="#直接更新" class="headerlink" title="直接更新"></a>直接更新</h4><p>直接设置对象的属性从而完成更新</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try!</span> realm.write &#123;</span><br><span class="line">  myStudent.name <span class="operator">=</span> <span class="string">&quot;xxsy&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="键值编码"><a href="#键值编码" class="headerlink" title="键值编码"></a>键值编码</h4><p>Object，Result，List均允许使用<strong>键值编码（KVC）</strong>。需要批量更新对象时，为集合实现KVC是一个很好的做法，这样就不用承受遍历集合时为每个项目创建访问器所带来的性能消耗。</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> students <span class="operator">=</span> realm.objects(<span class="type">Student</span>.<span class="keyword">self</span>)</span><br><span class="line"><span class="keyword">try!</span> realm.write &#123;</span><br><span class="line">  students.first<span class="operator">?</span>.setValue(<span class="literal">true</span>, forKetPath: <span class="string">&quot;isFirst&quot;</span>)</span><br><span class="line">  students.setValue(<span class="string">&quot;China&quot;</span>, forKeyPath: <span class="string">&quot;Country&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="通过主键更新"><a href="#通过主键更新" class="headerlink" title="通过主键更新"></a>通过主键更新</h4><p>如果数据模型类中包含了主键，可以用Realm().add(_:update:)，从而让Realm基于主键来自动更新或者添加对象。</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个book对象，其主键与之前存储的book对象相同</span></span><br><span class="line"><span class="keyword">let</span> cheeseBook <span class="operator">=</span> <span class="type">Book</span>()</span><br><span class="line">cheeseBook.title <span class="operator">=</span> <span class="string">&quot;Cheese recipies&quot;</span></span><br><span class="line">cheeseBook.price <span class="operator">=</span> <span class="number">9000</span></span><br><span class="line">cheeseBook.id <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"><span class="comment">// 更新这个id=1的book</span></span><br><span class="line"><span class="keyword">try!</span> realm.write &#123;</span><br><span class="line">  realm.add(cheeseBook, update: <span class="literal">true</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果这个id &#x3D; 1的Book对象存在于数据库当中，那么该对象只会进行更新，如果不存在的话，那么一个全新的Book对象就会被创建出来，并被添加到数据库当中。</p><p>可以传递一个子集，其中只包含打算更新的值，从而对带有主键的对象进行部分更新：</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 假设主键为&#x27;1&#x27;的&quot;Book&quot;对象已经存在</span></span><br><span class="line"><span class="keyword">try!</span> realm.write &#123;</span><br><span class="line">  realm.create(<span class="type">Book</span>.<span class="keyword">self</span>, value:[<span class="string">&quot;id&quot;</span>:<span class="number">1</span>, <span class="string">&quot;price&quot;</span>: <span class="number">9000.0</span>], update: <span class="literal">true</span>)</span><br><span class="line"> <span class="comment">// book对象的title属性保持不变</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>没有定义主键时不要对对象传递update:true参数。</p><h3 id="删除对象"><a href="#删除对象" class="headerlink" title="删除对象"></a>删除对象</h3><p>在写入事务中，将要删除的对象传递给Realm().delete(_:)方法。</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// cheeseBook 存储在Realm数据库中</span></span><br><span class="line"><span class="keyword">try!</span> realm.write &#123;</span><br><span class="line">  realm.delete(cheeseBook)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除所有数据</span></span><br><span class="line"><span class="keyword">try!</span> realm.write &#123;</span><br><span class="line">  realm.deleteAll()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h2><p>查询会返回一个Results实例，其中包含一组Object对象。</p><p>查询结果并不是数据的拷贝：<u>修改查询结果会直接修改磁盘上的数据</u></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> students <span class="operator">=</span> realm.objects(<span class="type">Student</span>.<span class="keyword">self</span>)</span><br></pre></td></tr></table></figure><h3 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用断言字符串来查询</span></span><br><span class="line"><span class="keyword">var</span> goodStudents <span class="operator">=</span> realm.objects(<span class="type">Student</span>.<span class="keyword">self</span>).filter(<span class="string">&quot;grade &gt;= 90 AND awards == true&quot;</span>)</span><br></pre></td></tr></table></figure><ul><li><p>比较操作数可以是属性名，也可以是常量。但至少要有一个操作数是属性名；</p></li><li><p>比较操作符 &#x3D;&#x3D;、&lt;&#x3D;、&lt;、&gt;&#x3D;、&gt;、!&#x3D; 和 BETWEEN 支持 Int、Int8、Int16、Int32、Int64、Float、Double 以及 Date 这几种属性类型，例如 age &#x3D;&#x3D; 45；</p></li><li><p>比较是否相同：&#x3D;&#x3D; 和 !&#x3D;，例如，Results().filter(“company &#x3D;&#x3D; %@”, company)；</p></li><li><p>比较操作符 &#x3D;&#x3D; 和 !&#x3D; 支持布尔属性；</p></li><li><p>对于 String 和 Data 属性而言，支持使用 &#x3D;&#x3D;、!&#x3D;、BEGINSWITH、CONTAINS 和 ENDSWITH 操作符，例如 name CONTAINS ‘Ja’；</p></li><li><p>对于 String 属性而言，LIKE 操作符可以用来比较左端属性和右端表达式：? 和 * 可用作通配符，其中 ? 可以匹配任意一个字符，* 匹配 0 个及其以上的字符。例如：value LIKE ‘?bc*’ 可以匹配到诸如 “abcde” 和 “cbc” 之类的字符串；</p></li><li><p>字符串的比较忽略大小写，例如 name CONTAINS[c] ‘Ja’。请注意，只有 “A-Z” 和 “a-z” 之间的字符大小写会被忽略。[c] 修饰符可以与 [d] 修饰符结合使用；</p></li><li><p>字符串的比较忽略变音符号，例如 name BEGINSWITH[d] ‘e’ 能够匹配到 étoile。这个修饰符可以与 [c] 修饰符结合使用。（这个修饰符只能够用于 Realm 所支持的字符串子集：参见当前的限制一节来了解详细信息。）</p></li><li><p>Realm 支持以下组合操作符：“AND”、“OR” 和 “NOT”，例如 name BEGINSWITH ‘J’ AND age &gt;&#x3D; 32；</p></li><li><p>包含操作符：IN，例如 name IN {‘Lisa’, ‘Spike’, ‘Hachi’}；</p></li><li><p>空值比较：&#x3D;&#x3D;、!&#x3D;，例如 Results().filter(“ceo &#x3D;&#x3D; nil”)。请注意，Realm 将 nil 视为一种特殊值，而不是某种缺失值；这与 SQL 不同，nil 等同于自身；</p></li><li><p>ANY 比较，例如 ANY student.age &lt; 21；</p></li><li><p>List 和 Results 属性支持聚集表达式：@count、@min、@max、@sum 和 @avg，例如 realm.objects(Company.self).filter(“employees.@count &gt; 5”) 可用以检索所有拥有 5 名以上雇员的公司。</p></li><li><p>支持子查询，不过存在以下限制：</p><ul><li><p>@count 是唯一一个能在 SUBQUERY 表达式当中使用的操作符；</p></li><li><p>SUBQUERY(…).@count 表达式只能与常量相比较；</p></li><li><p>目前仍不支持关联子查询。</p></li></ul></li></ul><h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><p>Results允许您指定一个排序标准，然后基于关键路径，属性或者多个排序描述符来进行排序。</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sortedStudent <span class="operator">=</span> realm.objects(<span class="type">Student</span>.<span class="keyword">self</span>).filter(<span class="string">&quot;grade &gt;= 90&quot;</span>).sorted(byKeyPath: <span class="string">&quot;name&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="链式查询"><a href="#链式查询" class="headerlink" title="链式查询"></a>链式查询</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> goodStudent <span class="operator">=</span> realm.objects(<span class="type">Student</span>.<span class="keyword">self</span>).filter(<span class="string">&quot;grade&gt;=90&quot;</span>)</span><br><span class="line"><span class="keyword">let</span> goodStudentWithAwards <span class="operator">=</span> goodStudent.filter(<span class="string">&quot;awards == true&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="结果的自更新"><a href="#结果的自更新" class="headerlink" title="结果的自更新"></a>结果的自更新</h3><p>Objects实例是底层数据的动态体现，其会自动进行更新</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> puppies <span class="operator">=</span> realm.objects(<span class="type">Dog</span>.<span class="keyword">self</span>).filter(<span class="string">&quot;age &lt; 2&quot;</span>)</span><br><span class="line">puppies.count <span class="comment">// =&gt; 0</span></span><br><span class="line"><span class="keyword">try!</span> realm.write &#123;</span><br><span class="line">    realm.create(<span class="type">Dog</span>.<span class="keyword">self</span>, value: [<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Fido&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">1</span>])</span><br><span class="line">&#125;</span><br><span class="line">puppies.count <span class="comment">// =&gt; 1</span></span><br></pre></td></tr></table></figure><h2 id="数据迁移"><a href="#数据迁移" class="headerlink" title="数据迁移"></a>数据迁移</h2><h3 id="本地迁移"><a href="#本地迁移" class="headerlink" title="本地迁移"></a>本地迁移</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 此段代码位于 application(application:didFinishLaunchingWithOptions:)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> config <span class="operator">=</span> <span class="type">Realm</span>.<span class="type">Configuration</span>(</span><br><span class="line">    <span class="comment">// 设置新的架构版本。必须大于之前所使用的</span></span><br><span class="line">    <span class="comment">// （如果之前从未设置过架构版本，那么当前的架构版本为 0）</span></span><br><span class="line">    schemaVersion: <span class="number">1</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置模块，如果 Realm 的架构版本低于上面所定义的版本，</span></span><br><span class="line">    <span class="comment">// 那么这段代码就会自动调用</span></span><br><span class="line">    migrationBlock: &#123; migration, oldSchemaVersion <span class="keyword">in</span></span><br><span class="line">        <span class="comment">// 我们目前还未执行过迁移，因此 oldSchemaVersion == 0</span></span><br><span class="line">        <span class="keyword">if</span> (oldSchemaVersion <span class="operator">&lt;</span> <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">// 没有什么要做的！</span></span><br><span class="line">            <span class="comment">// Realm 会自行检测新增和被移除的属性</span></span><br><span class="line">            <span class="comment">// 然后会自动更新磁盘上的架构</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通知 Realm 为默认的 Realm 数据库使用这个新的配置对象</span></span><br><span class="line"><span class="type">Realm</span>.<span class="type">Configuration</span>.defaultConfiguration <span class="operator">=</span> config</span><br><span class="line"></span><br><span class="line"><span class="comment">// 现在我们已经通知了 Realm 如何处理架构变化，</span></span><br><span class="line"><span class="comment">// 打开文件将会自动执行迁移</span></span><br><span class="line"><span class="keyword">let</span> realm <span class="operator">=</span> <span class="keyword">try!</span> <span class="type">Realm</span>()</span><br></pre></td></tr></table></figure><h3 id="值的更新"><a href="#值的更新" class="headerlink" title="值的更新"></a>值的更新</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 此段代码位于 application(application:didFinishLaunchingWithOptions:)</span></span><br><span class="line"></span><br><span class="line"><span class="type">Realm</span>.<span class="type">Configuration</span>.defaultConfiguration <span class="operator">=</span> <span class="type">Realm</span>.<span class="type">Configuration</span>(</span><br><span class="line">    schemaVersion: <span class="number">1</span>,</span><br><span class="line">    migrationBlock: &#123; migration, oldSchemaVersion <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">if</span> (oldSchemaVersion <span class="operator">&lt;</span> <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">// enumerateObjects(ofType:_:) 方法将会遍历</span></span><br><span class="line">            <span class="comment">// 所有存储在 Realm 文件当中的 `Person` 对象</span></span><br><span class="line">            migration.enumerateObjects(ofType: <span class="type">Person</span>.className()) &#123; oldObject, newObject <span class="keyword">in</span></span><br><span class="line">                <span class="comment">// 将两个 name 合并到 fullName 当中</span></span><br><span class="line">                <span class="keyword">let</span> firstName <span class="operator">=</span> oldObject<span class="operator">!</span>[<span class="string">&quot;firstName&quot;</span>] <span class="keyword">as!</span> <span class="type">String</span></span><br><span class="line">                <span class="keyword">let</span> lastName <span class="operator">=</span> oldObject<span class="operator">!</span>[<span class="string">&quot;lastName&quot;</span>] <span class="keyword">as!</span> <span class="type">String</span></span><br><span class="line">                newObject<span class="operator">!</span>[<span class="string">&quot;fullName&quot;</span>] <span class="operator">=</span> <span class="string">&quot;<span class="subst">\(firstName)</span> <span class="subst">\(lastName)</span>&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><h3 id="属性重命名"><a href="#属性重命名" class="headerlink" title="属性重命名"></a>属性重命名</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 此段代码位于 application(application:didFinishLaunchingWithOptions:)</span></span><br><span class="line"></span><br><span class="line"><span class="type">Realm</span>.<span class="type">Configuration</span>.defaultConfiguration <span class="operator">=</span> <span class="type">Realm</span>.<span class="type">Configuration</span>(</span><br><span class="line">    schemaVersion: <span class="number">1</span>,</span><br><span class="line">    migrationBlock: &#123; migration, oldSchemaVersion <span class="keyword">in</span></span><br><span class="line">        <span class="comment">// 我们目前还未执行过迁移，因此 oldSchemaVersion == 0</span></span><br><span class="line">        <span class="keyword">if</span> (oldSchemaVersion <span class="operator">&lt;</span> <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">// 重命名操作必须要在 `enumerateObjects(ofType: _:)` 调用之外进行</span></span><br><span class="line">            migration.renameProperty(onType: <span class="type">Person</span>.className(), from: <span class="string">&quot;yearsSinceBirth&quot;</span>, to: <span class="string">&quot;age&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><h2 id="通知"><a href="#通知" class="headerlink" title="通知"></a>通知</h2><p>当整个 Realm 数据库发生变化时，就会发送 Realm 通知；如果只有个别对象被修改、添加或者删除，那么就会发送集合通知。</p><h3 id="Realm通知"><a href="#Realm通知" class="headerlink" title="Realm通知"></a>Realm通知</h3><p>通知处理模块可以对整个Realm数据库进行注册。每次涉及到Realm的写入事务提交之后，无论写入事务发生在哪个线程还是进程中，通知处理模块都会被激活。</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取 Realm 通知</span></span><br><span class="line"><span class="keyword">let</span> token <span class="operator">=</span> realm.observe &#123; notification, realm <span class="keyword">in</span></span><br><span class="line">    viewController.updateUI()</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 随后</span></span><br><span class="line">token.invalidate()</span><br></pre></td></tr></table></figure><h3 id="集合通知"><a href="#集合通知" class="headerlink" title="集合通知"></a>集合通知</h3><p>可以通过传递到通知模块当中的RealmCollectionChange参数来访问这些变更。该对象存放了受删除（deletions），插入（insertions）以及修改（modifications）所影响的索引信息。</p><h3 id="对象通知"><a href="#对象通知" class="headerlink" title="对象通知"></a>对象通知</h3><p>Realm支持对象级别的通知。可以在特定的Realm对象上进行通知单注册，对象被删除，修改时获取相应的通知。</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">StepCounter</span>: <span class="title class_">Object</span> &#123;</span><br><span class="line">    <span class="keyword">@objc</span> <span class="keyword">dynamic</span> <span class="keyword">var</span> steps <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> stepCounter <span class="operator">=</span> <span class="type">StepCounter</span>()</span><br><span class="line"><span class="keyword">let</span> realm <span class="operator">=</span> <span class="keyword">try!</span> <span class="type">Realm</span>()</span><br><span class="line"><span class="keyword">try!</span> realm.write &#123;</span><br><span class="line">    realm.add(stepCounter)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> token : <span class="type">NotificationToken</span>?</span><br><span class="line">token <span class="operator">=</span> stepCounter.observe &#123; change <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">switch</span> change &#123;</span><br><span class="line">    <span class="keyword">case</span> .change(<span class="keyword">let</span> properties):</span><br><span class="line">        <span class="keyword">for</span> property <span class="keyword">in</span> properties &#123;</span><br><span class="line">            <span class="keyword">if</span> property.name <span class="operator">==</span> <span class="string">&quot;steps&quot;</span> <span class="operator">&amp;&amp;</span> property.newValue <span class="keyword">as!</span> <span class="type">Int</span> <span class="operator">&gt;</span> <span class="number">1000</span> &#123;</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;Congratulations, you&#x27;ve exceeded 1000 steps.&quot;</span>)</span><br><span class="line">                token <span class="operator">=</span> <span class="literal">nil</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">case</span> .error(<span class="keyword">let</span> error):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;An error occurred: <span class="subst">\(error)</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> .deleted:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;The object was deleted.&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="跨线程使用Realm数据库"><a href="#跨线程使用Realm数据库" class="headerlink" title="跨线程使用Realm数据库"></a>跨线程使用Realm数据库</h2><p>在不同的线程中使用同一个Realm文件，必须每一个线程初始化一个新的Realm实例。</p><p>不支持跨线程共享Realm实例。Realm实例要访问相同的Realm文件还必须使用相同的Realm.Configuration</p><h2 id="Realm数据库中图片的插入，读取"><a href="#Realm数据库中图片的插入，读取" class="headerlink" title="Realm数据库中图片的插入，读取"></a>Realm数据库中图片的插入，读取</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="type">HeadPortrait</span>:<span class="type">Object</span> &#123;</span><br><span class="line">  <span class="keyword">@objc</span> <span class="keyword">dynamic</span> <span class="keyword">var</span> data: <span class="type">Data</span>?</span><br><span class="line">  <span class="keyword">@objc</span> <span class="keyword">dynamic</span> <span class="keyword">var</span> date: <span class="type">Date</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="保存"><a href="#保存" class="headerlink" title="保存"></a>保存</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将图片转换为Data</span></span><br><span class="line"><span class="keyword">let</span> imageURL <span class="operator">=</span> <span class="type">Bundle</span>.main.url(forResource: <span class="string">&quot;0&quot;</span>, withExtension: <span class="string">&quot;PNG&quot;</span>)<span class="operator">!</span></span><br><span class="line"><span class="keyword">let</span> imageData <span class="operator">=</span> <span class="keyword">try!</span> <span class="type">Data</span>(contentsOf: imageURL)</span><br><span class="line"><span class="comment">// 将Data数据放到实体对象中</span></span><br><span class="line"><span class="keyword">let</span> portrait <span class="operator">=</span> <span class="type">HeadPortrait</span>()</span><br><span class="line">portrait.data <span class="operator">=</span> imageData</span><br><span class="line"><span class="comment">// 数据持久化操作</span></span><br><span class="line"><span class="keyword">try!</span> realm.write &#123;</span><br><span class="line">  realm.add(portrait)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="加载"><a href="#加载" class="headerlink" title="加载"></a>加载</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> portraits <span class="operator">=</span> realm.objects(<span class="type">HeadPortrait</span>.<span class="keyword">self</span>).sorted(byKeyPath: <span class="string">&quot;date&quot;</span>, ascending: <span class="literal">false</span>)</span><br><span class="line"><span class="keyword">if</span> portraits.count <span class="operator">&gt;</span> <span class="number">0</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">let</span> imgData <span class="operator">=</span> portraits[<span class="number">0</span>].data &#123;</span><br><span class="line">    <span class="keyword">self</span>.imageView.image <span class="operator">=</span> <span class="type">UIImage</span>(data:imgData)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Realm-Swift学习笔记（一）&quot;&gt;&lt;a href=&quot;#Realm-Swift学习笔记（一）&quot; class=&quot;headerlink&quot; title=&quot;Realm-Swift学习笔记（一）&quot;&gt;&lt;/a&gt;Realm-Swift学习笔记（一）&lt;/h1&gt;&lt;h2 id=&quot;基</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://example.com/2022/09/06/hello-world/"/>
    <id>http://example.com/2022/09/06/hello-world/</id>
    <published>2022-09-06T07:29:04.274Z</published>
    <updated>2022-09-06T07:29:04.274Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for</summary>
      
    
    
    
    
  </entry>
  
</feed>
